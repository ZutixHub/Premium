if not game:IsLoaded() then
    game.Loaded:Wait()
end

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local SupportedGames = {
    [920587237] = "https://api.junkie-development.de/api/v1/luascripts/public/29b5b9e1c80fb885cee1a5d2f54d6cfa3ca1c30c278ebe87e0a06abd4abce6b4/download",
    [383310974] = "https://api.junkie-development.de/api/v1/luascripts/public/29b5b9e1c80fb885cee1a5d2f54d6cfa3ca1c30c278ebe87e0a06abd4abce6b4/download",
}

local scriptURL = SupportedGames[game.PlaceId] or SupportedGames[game.GameId]
if not scriptURL then
    player:Kick("Unsupported Game")
    return
end

local ok, source = pcall(function()
    return game:HttpGet(scriptURL)
end)

if not ok then
    player:Kick("Failed to fetch script:\n" .. tostring(source))
    return
elseif not source or source == "" then
    player:Kick("Empty script content (possible update in progress).")
    return
end

local success, err = pcall(function()
    loadstring(source)()
end)

if not success then
    player:Kick("Script Error:\n" .. tostring(err))
end
